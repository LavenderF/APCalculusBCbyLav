<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>AP Calculus BC - Unit 4: Applications of Integration</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 900px;
    margin: auto;
    background: #f9fbfd;
    padding: 20px;
    color: #333;
  }
  h1, h2 {
    color: #1a73e8;
  }
  nav a {
    color: #3498db;
    text-decoration: none;
    font-weight: bold;
    margin-right: 15px;
  }
  nav a:hover {
    text-decoration: underline;
  }
  .section {
    background: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 0 6px rgba(0,0,0,0.1);
    margin-bottom: 30px;
  }
  .question {
    margin: 10px 0;
  }
  label {
    cursor: pointer;
  }
  button {
    background: #1a73e8;
    color: white;
    border: none;
    padding: 8px 15px;
    border-radius: 5px;
    cursor: pointer;
  }
  button:hover {
    background: #0b52d0;
  }
  .timer {
    font-weight: bold;
    margin: 10px 0;
  }
  textarea {
    width: 100%;
    height: 80px;
    margin-top: 5px;
    padding: 6px;
    font-size: 14px;
  }
  .answer-sample {
    background: #f0f0f0;
    padding: 10px;
    border-radius: 5px;
    margin-top: 5px;
    font-style: italic;
    white-space: pre-wrap;
  }
</style>
</head>
<body>

<nav>
  <a href="index.html">&larr; Home</a>
</nav>

<h1>Unit 4: Applications of Integration</h1>

<div class="section" id="content">
  <h2>Key Concepts</h2>
  <ul>
    <li>Finding area between curves using definite integrals.</li>
    <li>Calculating volumes of solids of revolution using disk, washer, and shell methods.</li>
    <li>Using integration to solve problems involving motion, work, and average value of functions.</li>
    <li>Applying integration techniques to real-world modeling problems.</li>
  </ul>
</div>

<div class="section" id="quiz-section">
  <h2>Multiple Choice Quiz (40 Questions)</h2>
  <div class="timer">Timer: <span id="timer">00:00</span></div>
  <button id="start-quiz-btn">Start Quiz</button>
  <form id="quiz-form" style="margin-top: 20px;"></form>
  <button id="submit-quiz-btn" style="display:none; margin-top:15px;">Submit Answers</button>
</div>

<div class="section" id="short-answer-section">
  <h2>Short Answer Questions (5 Questions)</h2>
  <form id="short-answer-form"></form>
  <button id="submit-short-answer-btn" style="margin-top:15px;">Submit Short Answers</button>
  <div id="short-answer-feedback" style="margin-top:20px;"></div>
</div>

<div class="section" id="stats-section">
  <h2>Quiz Statistics</h2>
  <div id="stats-content">You haven't taken any quizzes yet.</div>
</div>

<script>
const quizData = [
  {question:"What is the formula to find the area between two curves f(x) and g(x) from a to b?", options:["∫_a^b [f(x) - g(x)] dx","∫_a^b [g(x) - f(x)] dx","∫_a^b f(x)*g(x) dx","∫_a^b f'(x) dx"], answer:0},
  {question:"The disk method is used to find the volume of a solid of revolution by:", options:["Rotating a region around an axis and slicing perpendicular to the axis","Using cylindrical shells","Integrating the surface area","Using polar coordinates"], answer:0},
  {question:"In the washer method, the volume formula includes:", options:["π∫_a^b [R(x)^2 - r(x)^2] dx","π∫_a^b R(x) * r(x) dx","∫_a^b R(x) - r(x) dx","π∫_a^b R(x)^2 dx"], answer:0},
  {question:"The shell method involves integrating:", options:["2π∫_a^b (radius)(height) dx","π∫_a^b radius * height dx","∫_a^b radius * height dx","2π∫_a^b radius + height dx"], answer:0},
  {question:"The average value of a function f(x) on [a, b] is:", options:["1/(b-a) ∫_a^b f(x) dx","∫_a^b f(x) dx","(f(a) + f(b))/2","f((a+b)/2)"], answer:0},
  {question:"Work done by a variable force F(x) over [a, b] is given by:", options:["∫_a^b F(x) dx","F(b)-F(a)","F(a)*b","Average of F(a) and F(b)"], answer:0},
  {question:"Volume of revolution about the x-axis using disks is:", options:["π∫_a^b [f(x)]^2 dx","π∫_a^b f(x) dx","2π∫_a^b x f(x) dx","π∫_a^b f'(x)^2 dx"], answer:0},
  {question:"If a region is rotated about the y-axis, which method is usually easier?", options:["Shell method","Disk method","Washer method","Integration by parts"], answer:0},
  {question:"What integral represents the volume of a solid generated by revolving y = √x from 0 to 4 about the x-axis?", options:["π∫_0^4 (√x)^2 dx","2π∫_0^4 x√x dx","π∫_0^4 x dx","π∫_0^4 (x)^2 dx"], answer:0},
  {question:"Which of these is NOT an application of integration?", options:["Calculating slope of a tangent line","Finding area under a curve","Computing volume of solids","Determining average value"], answer:0},
  {question:"The integral used to find the volume of a solid with known cross-sectional area A(x) from a to b is:", options:["∫_a^b A(x) dx","A(b)-A(a)","A(a)*b","(A(a)+A(b))/2"], answer:0},
  {question:"Which method uses cylindrical shells to find volume?", options:["Shell method","Disk method","Washer method","Integration by substitution"], answer:0},
  {question:"The radius of a disk in the disk method is:", options:["Distance from axis of rotation to curve","Height of the shell","Length of the chord","Base of the triangle"], answer:0},
  {question:"When rotating around the x-axis, the thickness of each disk is:", options:["dx","dy","dz","dt"], answer:0},
  {question:"In the shell method, the height of each shell corresponds to:", options:["Length of the function parallel to the axis","Radius of the shell","Thickness of the shell","Volume of the shell"], answer:0},
  {question:"If f(x) is positive and g(x) ≤ f(x), the area between f and g from a to b is:", options:["∫_a^b [f(x) - g(x)] dx","∫_a^b [g(x) - f(x)] dx","∫_a^b f(x)g(x) dx","∫_a^b f(x) + g(x) dx"], answer:0},
  {question:"The work done by a force is given by the integral of force over:", options:["Distance","Time","Velocity","Acceleration"], answer:0},
  {question:"Which integral expression gives the volume when revolving y = f(x) about the y-axis using shells?", options:["2π∫_a^b x f(x) dx","π∫_a^b [f(x)]^2 dx","∫_a^b f(x) dx","π∫_a^b [f(y)]^2 dy"], answer:0},
  {question:"If a function is rotated about a horizontal line y = k, the radius in the washer method is:", options:["Distance from function to y = k","Distance from x-axis","Distance from y-axis","Height of the region"], answer:0},
  {question:"Average value of velocity over time interval [a,b] can be found by:", options:["1/(b-a) ∫_a^b v(t) dt","v(b)-v(a)","v(a)*b","Integral of acceleration"], answer:0},
  {question:"To find volume of a solid with known cross sections perpendicular to x-axis, you:", options:["Integrate the cross-sectional area A(x) dx","Differentiate A(x)","Integrate the perimeter","Use shell method"], answer:0},
  {question:"The definite integral ∫_a^b f(x) dx represents:", options:["Area under the curve from a to b","Slope of tangent at a","Volume","Length of curve"], answer:0},
  {question:"Which method is preferred when axis of rotation is parallel to the axis of integration but not on it?", options:["Shell method","Disk method","Trapezoidal rule","Integration by parts"], answer:0},
  {question:"Volume of a solid of revolution by washer method equals:", options:["π∫_a^b [R(x)^2 - r(x)^2] dx","2π∫_a^b (radius)(height) dx","∫_a^b f(x) dx","π∫_a^b R(x) dx"], answer:0},
  {question:"Which is a valid formula for average value of f(x) on [a,b]?", options:["(1/(b-a)) ∫_a^b f(x) dx","(f(a)+f(b))/2","f((a+b)/2)","∫_a^b f(x) dx"], answer:0},
  {question:"Work done by variable force F(x) over [a,b] is:", options:["∫_a^b F(x) dx","F(a) + F(b)","F(b) - F(a)","F(a)*b"], answer:0},
  {question:"Which is true about shell method?", options:["Integrates lateral surface area of shells","Slices solids into disks","Uses trapezoidal slices","Approximates volumes by rectangles"], answer:0},
  {question:"Volume of revolution about y-axis using shell method is:", options:["2π∫_a^b (radius)(height) dx","π∫_a^b [f(x)]^2 dx","∫_a^b f(x) dx","π∫_a^b f'(x) dx"], answer:0},
  {question:"If a region is revolved around y = -1, the radius in disk method is:", options:["Distance from function to y = -1","Distance from x-axis","Distance from y-axis","Height of region"], answer:0},
  {question:"Area between curves can be zero if:", options:["f(x) = g(x) on [a,b]","f(x) > g(x) on [a,b]","f(x) < g(x) on [a,b]","f(x) ≠ g(x) anywhere"], answer:0},
  {question:"The volume of a solid with cross-sectional area A(x) from a to b is:", options:["∫_a^b A(x) dx","A(b)-A(a)","A(a) * b","Average of A(a) and A(b)"], answer:0},
  {question:"Which integral gives volume of cone with radius r and height h?", options:["(1/3) π r² h","π r² h","2π r h","π r h²"], answer:0},
  {question:"The washer method subtracts inner radius squared because:", options:["It removes hollow part","It adds volume","It measures surface area","It finds length"], answer:0},
  {question:"What does the integral ∫_a^b v(t) dt represent?", options:["Displacement","Velocity","Acceleration","Force"], answer:0},
  {question:"The volume of revolution generated by rotating y = x from 0 to 1 about x-axis is:", options:["π∫_0^1 x² dx","π∫_0^1 x dx","2π∫_0^1 x dx","π∫_0^1 1 dx"], answer:0},
  {question:"If f(x) ≥ 0 on [a,b], then ∫_a^b f(x) dx is:", options:["Area under curve","Slope of tangent","Volume","Length"], answer:0},
  {question:"To find volume by shell method when rotating about y-axis, radius is:", options:["x","y","Distance to x-axis","Distance to y-axis"], answer:0},
  {question:"Average value of a function is useful for:", options:["Approximating function behavior","Finding exact value at a point","Differentiating","Integrating"], answer:0},
  {question:"The shell method is especially useful when:", options:["The axis of rotation is vertical and region bounded by functions is easier to describe horizontally","The axis is horizontal","The functions are polynomials","The region is symmetric"], answer:0},
  {question:"Work done moving an object is the integral of force over:", options:["Distance","Time","Speed","Acceleration"], answer:0},
  {question:"To find volume of a solid with known cross sections perpendicular to y-axis, you:", options:["Integrate A(y) dy","Integrate A(x) dx","Differentiate A(y)","Differentiate A(x)"], answer:0},
  {question:"Volume of revolution using shell method is calculated by integrating:", options:["Lateral surface areas of cylindrical shells","Areas of disks","Lengths of curves","Surface area of spheres"], answer:0}
];

// Short answer questions for Unit 4
const shortAnswerData = [
  {
    question: "Explain the difference between the disk and shell methods for finding volumes.",
    sampleAnswer: "The disk method slices the solid perpendicular to the axis of revolution and integrates the area of circular disks, while the shell method slices parallel to the axis and integrates the lateral surface area of cylindrical shells."
  },
  {
    question: "How do you calculate the average value of a continuous function f(x) on [a, b]?",
    sampleAnswer: "Average value = (1/(b-a)) ∫_a^b f(x) dx."
  },
  {
    question: "Describe how to find the volume of a solid formed by revolving the region between two curves about the x-axis.",
    sampleAnswer: "Use the washer method: Volume = π∫_a^b [outer radius² - inner radius²] dx."
  },
  {
    question: "What is the integral expression for work done by a variable force F(x) over distance [a, b]?",
    sampleAnswer: "Work = ∫_a^b F(x) dx."
  },
  {
    question: "Give an example of a real-world problem that can be solved by integration.",
    sampleAnswer: "Finding the distance traveled by an object with variable velocity over time using the integral of velocity."
  }
];

// 以下是和之前单元相同的功能脚本
const startQuizBtn = document.getElementById('start-quiz-btn');
const submitQuizBtn = document.getElementById('submit-quiz-btn');
const quizForm = document.getElementById('quiz-form');
const timerSpan = document.getElementById('timer');
const statsContent = document.getElementById('stats-content');
const shortAnswerForm = document.getElementById('short-answer-form');
const submitShortAnswerBtn = document.getElementById('submit-short-answer-btn');
const shortAnswerFeedback = document.getElementById('short-answer-feedback');

let timerInterval;
let secondsElapsed = 0;

function formatTime(s) {
  const m = Math.floor(s / 60).toString().padStart(2, '0');
  const sec = (s % 60).toString().padStart(2, '0');
  return m + ':' + sec;
}

function startTimer() {
  secondsElapsed = 0;
  timerSpan.textContent = '00:00';
  timerInterval = setInterval(() => {
    secondsElapsed++;
    timerSpan.textContent = formatTime(secondsElapsed);
  }, 1000);
}

function stopTimer() {
  clearInterval(timerInterval);
}

function loadQuiz() {
  let html = '';
  quizData.forEach((q, idx) => {
    html += `<div class="question">
      <p><strong>Q${idx + 1}.</strong> ${q.question}</p>`;
    q.options.forEach((opt, i) => {
      html += `<label><input type="radio" name="q${idx}" value="${i}"> ${opt}</label><br>`;
    });
    html += `</div>`;
  });
  quizForm.innerHTML = html;
}

startQuizBtn.onclick = () => {
  loadQuiz();
  startQuizBtn.style.display = 'none';
  submitQuizBtn.style.display = 'inline-block';
  startTimer();
};

submitQuizBtn.onclick = () => {
  stopTimer();
  let score = 0;
  quizData.forEach((q, idx) => {
    const val = quizForm['q' + idx].value;
    if (parseInt(val) === q.answer) score++;
  });
  alert(`You scored ${score} out of ${quizData.length} in ${formatTime(secondsElapsed)}.`);

  // Save stats in localStorage
  let stats = JSON.parse(localStorage.getItem('unit4_stats') || '{"attempts":0,"totalScore":0}');
  stats.attempts++;
  stats.totalScore += score;
  localStorage.setItem('unit4_stats', JSON.stringify(stats));
  updateStats();

  submitQuizBtn.style.display = 'none';
  startQuizBtn.style.display = 'inline-block';
  quizForm.innerHTML = '';
  timerSpan.textContent = '00:00';
};

function updateStats() {
  let stats = JSON.parse(localStorage.getItem('unit4_stats'));
  if (!stats) {
    statsContent.textContent = "You haven't taken any quizzes yet.";
    return;
  }
  let avg = (stats.totalScore / stats.attempts).toFixed(2);
  statsContent.innerHTML = `<p>Total Attempts: ${stats.attempts}</p>
    <p>Average Score: ${avg} / ${quizData.length}</p>`;
}
updateStats();

function loadShortAnswers() {
  let html = '';
  shortAnswerData.forEach((item, idx) => {
    html += `<div class="question">
      <p><strong>Q${idx + 1}.</strong> ${item.question}</p>
      <textarea name="sa${idx}" placeholder="Write your answer here..."></textarea>
      <div class="answer-sample" id="sample${idx}" style="display:none;">Sample answer: ${item.sampleAnswer}</div>
    </div>`;
  });
  shortAnswerForm.innerHTML = html;
}
loadShortAnswers();

submitShortAnswerBtn.onclick = () => {
  shortAnswerData.forEach((item, idx) => {
    document.getElementById('sample' + idx).style.display = 'block';
  });
  shortAnswerFeedback.textContent = 'Sample answers are shown above for your reference.';
};
</script>

</body>
</html>
